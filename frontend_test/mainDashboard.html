<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Material Design for Bootstrap</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" />
    <!-- Google Fonts Roboto -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" />
    <!-- MDB -->
    <link rel="stylesheet" href="https://seniordevteam1.in/src/css/mdb.min.css" />
    <!-- Custom styles -->
    <link rel="stylesheet" href="https://seniordevteam1.in/src/css/style.css" />
<!--    <link rel="stylesheet" href="../src/css/style.css" />-->

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>

</head>
<body>
    <!--Main Navigation-->
<header>
  <!-- Sidebar -->
  <nav
       id="sidebarMenu"
       class="collapse d-lg-block sidebar collapse bg-white"
       >
    <div class="position-sticky">
      <div class="list-group list-group-flush mt-4">
        <a
           href="mainDashboard.html"
           class="list-group-item list-group-item-action py-2 ripple active"
           aria-current="true"
           >
          <i class="far fa-chart-bar fa-fw me-3"></i
            ><span>Main dashboard</span>
        </a>
        <a
           href="logs.html"
           class="list-group-item list-group-item-action py-2 ripple"
           >
          <i class="far fa-file-alt fa-fw me-3"></i
            ><span>Search Logs</span>
        </a>

<!--        documentation section-->
        <a
                href="logs.html"
                class="list-group-item list-group-item-action py-2 ripple"
        >
          <i class="far fa-file-alt fa-fw me-3"></i
          ><span>Search Logs</span>
        </a>
<!--        documentation section-->

        <a
           href="users.html"
           class="list-group-item list-group-item-action py-2 ripple"
           ><i class="fas fa-users fa-fw me-3"></i><span>Search Users</span></a
          >
        <a
           href="alerts.html"
           class="list-group-item list-group-item-action py-2 ripple"
           ><i class="fas fa-exclamation-circle fa-fw me-3"></i
          ><span>Alerts</span><span class="badge badge-danger rounded-pill ms-3">3</span></a
          >
        <a
           href="settings.html"
           class="list-group-item list-group-item-action py-2 ripple"
           >
          <i class="fas fa-cogs fa-fw me-3"></i><span>Settings</span>
        </a>
        
      </div>
    </div>
  </nav>
  <!-- Sidebar -->

  <!-- Navbar -->
  <nav
       id="main-navbar"
       class="navbar navbar-expand-lg navbar-light bg-white fixed-top"
       >
    <!-- Container wrapper -->
    <div class="container-fluid">

      <div class="d-flex flex-row">
        <!-- Toggle button -->
        <button
                class="navbar-toggler"
                type="button"
                data-mdb-toggle="collapse"
                data-mdb-target="#sidebarMenu"
                aria-controls="sidebarMenu"
                aria-expanded="false"
                aria-label="Toggle navigation"
        >
          <i class="fas fa-bars"></i>
        </button>

        <!-- Brand -->
        <a class="navbar-brand" href="#">
          <img
                  src="https://seniordevteam1.in/src/img/Logo_LMS.svg"
                  height="35"
                  alt="LMS Logo"
                  loading="lazy"
          />
        </a>
      </div>


      <div class="d-flex flex-row gap-3 navbar-title">

        <h2>Dashboard</h2>

        <!-- Search form -->
        
        
      </div>
      

      <!-- Right links -->
      <ul class="navbar-nav ms-auto d-flex flex-row flex-grow-1 justify-content-end">
        <!-- Notification dropdown -->


        <!-- Avatar -->
        <li class="nav-item dropdown">
          <a
             class="nav-link dropdown-toggle hidden-arrow d-flex align-items-center"
             href="#"
             id="navbarDropdownMenuLink"
             role="button"
             data-mdb-toggle="dropdown"
             aria-expanded="false"
             >
            <button type="button" class="btn btn-primary btn-floating btn-lg">
              <p class="avatar">JD</p>
            </button>


          </a>
          <ul
              class="dropdown-menu dropdown-menu-end"
              aria-labelledby="navbarDropdownMenuLink"
              >
            <li><a class="dropdown-item" href="#">My profile</a></li>
            <li><a class="dropdown-item" href="#">Settings</a></li>
            <li><a class="dropdown-item" href="https://seniordevteam1.in/controllers/login_controller.php?logout">Logout</a></li>
          </ul>
        </li>
      </ul>
    </div>
    <!-- Container wrapper -->
  </nav>
  <!-- Navbar -->
</header>
<!--Main Navigation-->

<!--Main layout-->
<main style="margin-top: 58px">
  <div class="container pt-4">

    <div class="d-flex flex-column flex-md-row pt-xl-4 justify-content-between">
      <div class="d-flex align-items-center gap-2">
        <p class="h2">Welcome, John Doe</p>
        <p class="h5"><span class="badge rounded-pill bg-info">Admin</span></p>
      </div>


      <div class="d-flex pt-xl-4 align-items-center gap-3 justify-content-end">
        <p class="h4 fw-normal text-nowrap m-0">Server Overview</p>
        <select class="form-select form-select-sm btn-outline btn-rounded fs-5" style="flex-basis: fit-content;">
          <option class="bg-white" value="today">Today</option>
          <option class="bg-white" value="week">This Week</option>
          <option class="bg-white" value="week">This Month</option>
        </select>
      </div>

    </div>



    <div class="d-flex flex-column">

      <div id="dashboard-stats" class="row align-items-stretch pt-md-2">

        <div class="col col-xl-4 col-md-12 mb-4">
          <div class="card h-100" type="button">
            <div class="card-body">
              <div class="d-flex justify-content-between p-md-1">
                <div class="d-flex flex-row">
                  <div class="align-self-center">
                    <i class="fas fa-chart-line text-info fa-3x me-4"></i>
                  </div>
                  <div>
                    <h4>Server Activity</h4>
                    <div class="d-flex align-content-center gap-2 flex-wrap">
                      <p class="mb-0">Logs Created </p>
                      <span class="badge rounded-pill bg-light border text-black my-auto">Today</span>
                    </div>
                  </div>
                </div>
                <div class="align-self-center">
                  <h2 class="h1 mb-0">987</h2>
                </div>
              </div>
              <a href="#!" class="stretched-link"></a>
            </div>
          </div>
        </div>

        <!--Successful logins card-->
        <div class="col col-xl-4 col-md-12 mb-4">
          <div class="card h-100" type="button">
            <div class="card-body">
              <div class="d-flex justify-content-between p-md-1">
                <div class="d-flex flex-row">
                  <div class="align-self-center">
                    <i class="fas fa-user-plus text-success fa-3x me-4"></i>
                  </div>
                  <div>
                    <h4>Logins</h4>
                    <div class="d-flex align-content-center gap-2 flex-wrap">
                      <p class="mb-0">Successful Logins </p>
                      <span class="badge rounded-pill bg-light border text-black my-auto">Today</span>
                    </div>
                  </div>
                </div>
                <div class="align-self-center">
                  <h2 class="h1 mb-0">524</h2>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col col-xl-4 col-md-12 mb-4">
          <div class="card h-100" type="button">
            <div class="card-body">
              <div class="d-flex justify-content-between p-md-1">
                <div class="d-flex flex-row">
                  <div class="align-self-center">
                    <i class="fas fa-exclamation-circle text-danger fa-3x me-4"></i>
                  </div>
                  <div>
                    <h4>Failed Logins</h4>
                    <div class="d-flex align-content-center gap-2 flex-wrap">
                      <p class="mb-0">Failed Logins </p>
                      <span class="badge rounded-pill bg-light border text-black my-auto">Today</span>
                    </div>
                  </div>
                </div>
                <div class="align-self-center">
                  <h2 class="h1 mb-0">29</h2>
                </div>
              </div>
              <a href="#!" class="stretched-link"></a>
            </div>
          </div>
        </div>

      </div>
    </div>


    <!--Section: Recently Viewed Student Table-->
    <section class="mb-4">
      <div class="card">
        <div class="card-header table-header text-center py-3">

          <div class ="table-header-title">
            <i class="fas fa-users fa-fw me-3"></i>
            <h5 class="mb-0 text-center">
              <strong>Recently Viewed Students</strong>
            </h5>
          </div>
            <button type="button" class="btn btn-floating chevron-btn" data-mdb-toggle="tooltip" data-mdb-placement="bottom" title="View More">
              <i class="fas fa-chevron-right fa-lg"></i>
            </button>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table id="studentDashboardTable" class="table table-hover text-nowrap" >
<!--              '.$db->getAllStudentObjectsAsTable().'-->
            </table>
          </div>
        </div>
      </div>
    </section>
    <!--Section: Recently Viewed Student Table-->

    <!--Section: Recently Viewed Logs Table-->
    <section class="mb-4">
      <div class="card">
        <div class="card-header table-header text-center py-3">

          <div class ="table-header-title">
            <i class="far fa-file-alt fa-fw me-3"></i>
            <h5 class="mb-0 text-center">
              <strong>Recently Viewed Logs</strong>
            </h5>
          </div>
          <a href="#" type="button" class="btn btn-floating chevron-btn" data-mdb-toggle="tooltip" data-mdb-placement="bottom" title="View More">
            <i class="fas fa-chevron-right fa-lg"></i>
          </a>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <table id="logDashboardTable" class="table table-hover text-nowrap" >
              <!--              '.$db->getAllLogObjectsAsTable().'-->
            </table>
          </div>
        </div>
      </div>
    </section>
    <!--Section: Recently Viewed Logs Table-->

  </div>

</main>
<!--Main layout-->
    <!-- MDB -->
    <script type="text/javascript" src="https://seniordevteam1.in/src/js/mdb.min.js"></script>
    <!-- Custom scripts -->
    <script type="text/javascript" src="https://seniordevteam1.in/src/js/dashboardSampleData.js"></script>
    <!-- Example AJAX request for today/week/month selector change -->
    <script>
      $(document).ready(function() {
        // Handle dropdown change event
        $('#logins-dropdown').change(function() {
          var selectedValue = $(this).val();
    
          // Send AJAX request to PHP script to fetch updated data
          $.ajax({
            url: 'get_logins.php',
            method: 'POST',
            data: { selectedValue: selectedValue },
            success: function(response) {
              $('#logins-count').text(response);
            },
            error: function(xhr, textStatus, errorThrown) {
              console.log(xhr.responseText);
            }
          });
        });
      });
    </script>

</body>
</html>
